<!DOCTYPE html>
<html
  ><head
    ><meta charset=utf-8
    /><title>Prezentation</title
    ><style><!--
audio {
  width: 100%;
}
img {
  max-width: 100%;
  margin: 0 auto;
  /*
  border: 1px solid black;
  */
  display: block;
}
#debug-data {
  display: none;
}
    --></style
  ></head
  ><body
    ><audio id="my_audio" controls
      ><source src="fpb-1.ogg" type='audio/ogg'
      ><p>Your user agent does not support the HTML5 Audio element.</p
    ></audio
    ><pre id="debug-data"></pre
    ><img id="slides-placeholder" src="slides/img-0.png" alt="Slide..."
    ><script><!--
      audio = document.getElementById("my_audio");
      debug_data = document.getElementById("debug-data");
      timing = [5,10,43,95,205,318,340,365,383,386,547,554,694,706,733, 783];
      current = 0;
      audio.addEventListener('timeupdate', function() {
        var value = audio.currentTime;
        var change = false;
        if (value > timing[current]) {
            current += 1;
            change = true;
        } else if (current > 0 && value < timing[current-1]) {
            current -= 1;
            change = true;
        }
        if (change) {
            document.getElementById("slides-placeholder").src = "slides/img-" + current + ".png";
            change = false;
        }
        debug_data.innerHTML = [current,value];
      }, false);
    --></script>
  </body>
</html>
